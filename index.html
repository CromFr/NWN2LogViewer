<!doctype html>
<html lang="en" ng-app="logApp">
<head>
	<meta charset="utf-8">
	<title>Log viewer</title>
	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">

	<script src="bower_components/angular/angular.js"></script>

	<script type="text/javascript">
		var app = angular.module('logApp', []);
		app.controller('LogCtrl', function($scope){
			$scope.columns = [
				{
					'name': 'Name',
					'code': 'name'
				},
				{
					'name': 'Avg run time',
					'code': 'avgRunTime'
				},
				{
					'name': 'Calls',
					'code': 'calls'
				},
				{
					'name': 'Total run time',
					'code': 'totalRunTime'
				},
			];

			$scope.logs = [
				{	'name': 'yolo.nss',
					'totalRunTime': 1759,
					'calls': 42,
					'avgRunTime': 0.12
				},
				{	'name': 'azerty.nss',
					'totalRunTime': 1759,
					'calls': 12,
					'avgRunTime': 13.37
				},
				{	'name': 'qsdqdqsd.nss',
					'totalRunTime': 89754,
					'calls': 152,
					'avgRunTime': 4564.2
				}
			];

			$scope.orderColumn = 'name';

		});
	</script>
</head>
<!-- ######################################## -->
<body ng-controller="LogCtrl">

	<div class="form-group">
		<label for="searchScript">Search</label>
		<input class="form-control" id="searchScript" placeholder="Name" ng-model="searchName">
	</div>

	<table class="table table-striped table-condensed">
		<thead><tr>
			<th ng-repeat="column in columns" ng-click="$parent.orderColumn=($parent.orderColumn==column.code)? '-'+column.code : column.code">
				{{column.name}}
			    <span
			    	class="glyphicon {{($parent.orderColumn==column.code)? 'glyphicon-sort-by-attributes' : 'glyphicon-sort-by-attributes-alt'}}"
			    	style="opacity:{{$parent.orderColumn==column.code||$parent.orderColumn==('-'+column.code)? '1.0' : '0.0'}}"
			    	aria-hidden="true"></span>
			</th>
		</tr></thead>

		<tr ng-repeat="entry in logs | filter:searchName | orderBy:orderColumn">
			<td ng-repeat="column in columns">{{entry[column.code]}}</td>
		</tr>

	</table>


	<script src="bower_components/jquery/jquery.min.js"></script>
	<script src="bower_components/showdown/showdown.min.js"></script>
	<script src="bower_components/bootstrap/js/bootstrap.min.js"></script>
</body>
</html>
